# セクション5: 科学計算 - NumPyとPandasの基礎 - 宿題

## 理論問題

1. **NumPyとは何ですか？Pythonの標準リストと比較して、NumPy配列の主な利点を3つ挙げてください。**

2. **NumPyの「ブロードキャスティング」とは何ですか？簡単な例を挙げて説明してください。**

3. **NumPyの配列操作において、`axis`パラメータの役割を説明してください。例えば、`np.sum(arr, axis=0)`と`np.sum(arr, axis=1)`の違いは何ですか？**

4. **Pandasの`Series`と`DataFrame`の違いを説明してください。それぞれの使用例を挙げてください。**

5. **Pandasで欠損値を処理する方法を少なくとも3つ挙げ、それぞれの方法の長所と短所を説明してください。**

6. **Pandasの`.loc`と`.iloc`の違いを説明してください。それぞれの使用例を挙げてください。**

7. **Pandasの「グループ化」操作とは何ですか？SQLの`GROUP BY`とどのように関連していますか？**

8. **Matplotlibを使用してデータを可視化する利点を3つ挙げてください。**

9. **Matplotlibで複数のサブプロットを作成する方法を説明してください。**

10. **NumPy、Pandas、Matplotlibが科学計算やデータ分析においてどのように連携するかを説明してください。**

## 実践問題

### 問題1: NumPy基本操作

以下の操作を行うNumPyコードを書いてください：

a) 0から99までの整数を含む10x10の2次元配列を作成する
b) 作成した配列から偶数の要素だけを抽出する
c) 配列の各行の合計を計算する
d) 配列の各列の平均値を計算する
e) 配列の対角要素を抽出する

```python
# ここにコードを書いてください
```

### 問題2: 行列演算

以下の行列演算を行うNumPyコードを書いてください：

a) 2つの3x3行列A、Bを作成する（値は自由に設定）
b) 行列AとBの和を計算する
c) 行列AとBの積を計算する
d) 行列Aの逆行列を計算する
e) 行列Aの固有値と固有ベクトルを計算する

```python
# ここにコードを書いてください
```

### 問題3: 日本の魚のデータ分析

以下のデータを使用して、Pandasの操作を行ってください：

```python
import pandas as pd

# 日本の魚のデータ
data = {
    '名前': ['マグロ', 'サケ', 'タイ', 'サバ', 'アジ', 'ブリ', 'カツオ', 'イワシ', 'サンマ', 'ヒラメ'],
    '重さ(kg)': [80, 5, 3, 1, 0.5, 8, 4, 0.3, 0.4, 2],
    '長さ(cm)': [180, 70, 40, 30, 25, 90, 60, 20, 30, 50],
    '生息地': ['太平洋', '北太平洋', '日本海', '太平洋', '日本海', '日本海', '太平洋', '日本海', '太平洋', '日本海'],
    '価格(円/kg)': [3000, 2000, 4000, 1000, 1500, 2500, 1800, 800, 1200, 3500]
}

fish_df = pd.DataFrame(data)

# ここからコードを書いてください
```

以下の操作を行ってください：

a) 総価値（重さ×価格）の列を追加する
b) 重さが2kg以上の魚だけを抽出する
c) 生息地ごとの平均重さと平均価格を計算する
d) 魚のサイズカテゴリ（大型: 5kg超、中型: 1kg超5kg以下、小型: 1kg以下）を追加する
e) 価格が最も高い魚と最も安い魚を特定する
f) 生息地と魚の名前でピボットテーブルを作成し、各生息地にどの魚が何匹いるかを表示する

### 問題4: データの可視化

問題3のデータを使用して、以下の可視化を行ってください：

a) 魚の名前と重さの棒グラフを作成する
b) 魚の重さと長さの散布図を作成する（点の大きさを価格に比例させる）
c) 生息地ごとの魚の数の円グラフを作成する
d) 2x2のサブプロットを作成し、以下のグラフを表示する：
   - 魚の名前と重さの棒グラフ
   - 魚の名前と長さの棒グラフ
   - 生息地ごとの魚の数の円グラフ
   - 重さと長さの散布図

```python
# ここにコードを書いてください
```

### 問題5: 総合問題 - 魚の漁獲データ分析

以下のコードを使用して、より大きな魚の漁獲データセットを生成し、分析してください：

```python
import numpy as np
import pandas as pd
import matplotlib.pyplot as plt
import seaborn as sns

# 乱数シードを設定（再現性のため）
np.random.seed(42)

# 魚の種類
fish_types = ['マグロ', 'サケ', 'タイ', 'サバ', 'アジ', 'ブリ', 'カツオ', 'イワシ', 'サンマ', 'ヒラメ']

# 生息地
habitats = ['太平洋', '日本海', '瀬戸内海', '東シナ海']

# 漁船
boats = ['第一漁船', '第二漁船', '第三漁船', '第四漁船', '第五漁船']

# データの生成
n_samples = 200
data = {
    '日付': pd.date_range(start='2023-01-01', periods=n_samples),
    '魚の種類': np.random.choice(fish_types, n_samples),
    '重さ(kg)': np.random.exponential(5, n_samples),
    '生息地': np.random.choice(habitats, n_samples),
    '漁船': np.random.choice(boats, n_samples),
    '価格(円/kg)': np.random.normal(2000, 500, n_samples)
}

# DataFrameの作成
catch_df = pd.DataFrame(data)

# ここからコードを書いてください
```

以下の分析を行ってください：

a) データの基本的な統計情報を表示する
b) 総価値（重さ×価格）の列を追加する
c) 月ごとの総漁獲量と総価値を計算する
d) 魚の種類ごとの平均重さと総価値を計算する
e) 漁船ごとの総漁獲量と総価値を計算する
f) 以下の可視化を行う：
   - 月ごとの総漁獲量の折れ線グラフ
   - 魚の種類ごとの総価値の棒グラフ
   - 漁船ごとの総漁獲量の円グラフ
   - 生息地ごとの魚の種類の分布を示す積み上げ棒グラフ
g) 最も収益性の高い魚、漁船、月を特定する
h) 漁獲量と価格の相関関係を分析する
i) 分析結果をまとめたレポートを作成する（コメントとして）

## 提出方法

1. すべての問題の解答を1つのPythonファイル（`section5_homework_solutions.py`）にまとめてください。
2. 理論問題の解答はコメントとして含めてください。
3. 各実践問題の解答の前に、問題番号と簡単な説明をコメントとして追加してください。
4. ファイルを提出する前に、すべてのコードが正しく動作することを確認してください。

## 評価基準

- 正確性: すべての問題が正しく解かれているか
- コードの品質: コードが読みやすく、効率的で、適切にコメントされているか
- 分析の深さ: データから有意義な洞察を引き出しているか
- 可視化の質: グラフが明確で情報を効果的に伝えているか
- 創造性: 特に総合問題での解決策の独創性と完成度

頑張ってください！
